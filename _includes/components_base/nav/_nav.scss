.nav {
	background: #fff;
	
	// General: State
	.is-active {background-color: #f6f6f6;}
	.is-hovered {background-color: #f6f6f6;}

	// General: Icon
	&__icon {
		border-right: $border;
		padding: $whitespace;
		background-image: url('../_includes/components_base/nav/navicon.svg');
		background-repeat: no-repeat; 
		background-position: 50% 85%;

		svg {
			width: 26px;
			height: 26px;
			float: left;
			fill: $color-brand;
			margin: -5px 20px -10px 0;
		}
	}

	// General: Elements
	&__inner {
		@include container();
		@include clearfix();
		padding: 0;
		list-style: none;
	}
	&__item {
		float: left;
		position: relative;
		border-right: $border;
		
		&:first-child {border-left: $border;}
	}
	&__link {
		padding: $whitespace;
		display: block;
	}
	&__link--parent {
		background-image: url("http://webdesigntutsplus.s3.amazonaws.com/tuts/378_tessa/tessa-lt-dropdowns-21c7868/images/downArrow.png");
		background-repeat: no-repeat; 
		background-position: 50% 85%;
	}
	&__subnav {
		min-width: 150px;
		list-style: none;
		background-color: #fff;

		position: absolute;
		visibility: hidden;

		opacity: 0;
		transform: translateY(10px);
		@include transition();
	}
}


/* =======================================*/
/* SUBNAV - LEVEL 1
/* =======================================*/

.nav {

	// Show Subnav
	&__item.is-hovered > &__subnav {
		visibility: visible;

		opacity: 1;
		transform: translateY(0px);
		@include transition();
	}

	// Subnav Level 1
	&__subnav {

		.nav__item {
			float: none;
			border-top: $border;
			border-right: none;

			&:first-child {border-left: none;}
		}
		.nav__link--parent {
			background-image: none;
		}
	}
}


/* =======================================*/
/* SUBNAV - LEVEL 2 & 3
/* =======================================*/

.nav {

	// Show Subnav
	&__item.is-hovered > &__subnav {
		visibility: visible;

		opacity: 1;
		transform: translateX(0px);
		@include transition();
	}

	// Subnav Level 2 & 3
	&__subnav &__subnav {
		left: 100%;
		top: -1px;
		border-left: 1px solid #eee;
		transform: translateX(10px);
	}
}


/* =======================================*/
/* RESPONSIVE BEHAVIOR
/* =======================================*/

@include below(medium) {
	.nav {
			
		// General: State
		.is-active {}
		.is-hovered {background-color: transparent;}
		
		// General: Elements
		&__item {
			float: none;
			border-top: $border;
			border-right: none;
			
			&:first-child { border-left: none; }
		}
		&__link--parent {
			background-image: none; 
		}

		// Subnav - Level 1, 2, 3
		&__more {
			background: url("http://webdesigntutsplus.s3.amazonaws.com/tuts/378_tessa/tessa-lt-dropdowns-21c7868/images/downArrow.png") no-repeat 50%;
			float: right;
			width: $whitespace;
			padding: $whitespace;
			cursor: pointer;
			border-left: $border;
			z-index: 200; //For: Nested Subnav
			position: relative; //For: Nested Subnav
		}
		&__subnav {
			display: none;
			width: 100%;
		}
		&__subnav &__subnav {
			border-left: none;
		}
		&__item.is-hovered > &__subnav {
			display: block;
			position: static;
		}
	}
}